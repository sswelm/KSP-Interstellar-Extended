// Common Bi-Propellants for CDT

@PART[*]:HAS[#IFSTankTypeCDT]:AFTER[IFSTanks] {
	@MODULE[InterstellarFuelSwitch]:HAS[#moduleID[IFSFuelSwitcher]] {
		//calculate
		%MixLFOF = #$../IFSTankVolume$
		%MixLFOO = #$../IFSTankVolume$
		%MixHydroloxF = #$../IFSTankVolume$
		%MixHydroloxO = #$../IFSTankVolume$
		%MixMethaloxF = #$../IFSTankVolume$
		%MixMethaloxO = #$../IFSTankVolume$
		@MixLFOF *= 0.09			// LFO: Volume LiquidFuel
		@MixLFOO *= 0.11			// LFO: Volume Oxidizer
		@MixHydroloxF *= 0.8  // Hydrolox: Volume Hydrogen
		@MixHydroloxO -= #$MixHydroloxF$
		@MixMethaloxF *= 0.557// Methalox: Volume Methane
		@MixMethaloxO -= #$MixMethaloxF$
		//set
		@tankSwitchNames = #$tankSwitchNames$;LFO;MethaLox;HydroLox
		@resourceNames = #$resourceNames$    ;LiquidFuel,Oxidizer;LqdMethane,LqdOxygen;LqdHydrogen,LqdOxygen
		@resourceAmounts = #$resourceAmounts$;$MixLFOF$,$MixLFOO$;$MixMethaloxF$,$MixMethaloxO$;$MixHydroloxF$,$MixHydroloxO$
		@visualObjectNames = #$visualObjectNames$;LFO;Methalox;Hydrolox
		//clear
		!MixLFOF = 0
		!MixLFOO = 0
		!MixHydroloxF = 0
		!MixHydroloxO = 0
		!MixMethaloxF = 0
		!MixMethaloxO = 0
	}
	//Note: cryostats already defined in LiquidFuels
}
//TODO: use realistic Methalox mixture ratio
