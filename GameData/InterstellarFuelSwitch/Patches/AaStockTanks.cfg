// Conversion of Squad tanks to IFS versions

@PART[*]:HAS[@RESOURCE[LiquidFuel],@RESOURCE[Oxidizer],!RESOURCE[MonoPropellant],!MODULE[ModuleTankManager],!MODULE[InterstellarFuelSwitch],!MODULE[FSfuelSwitch],!MODULE[ModuleB9PartSwitch],!MODULE[ModuleEnginesFX],!MODULE[ModuleEngines]]:NEEDS[InterstellarFuelSwitch&!ModularFuelTanks&!RealFuels&!ConfigurableContainers]:BEFORE[IFSTanks]
{
	%IFSTankVolume  = #$RESOURCE[LiquidFuel]/maxAmount$
	@IFSTankVolume += #$RESOURCE[Oxidizer]/maxAmount$
	@IFSTankVolume *= 5

	@mass *= 0.51

	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	%IFSTankType = CT
	%IFSTankTypeCDT = 1

	%IFScryoPower = #$IFSTankVolume$
	@IFScryoPower /= 800
}

//%IFSUnusedVisualObjects none

@PART[*]:HAS[@RESOURCE[LiquidFuel],!RESOURCE[Oxidizer],!RESOURCE[MonoPropellant],!MODULE[ModuleTankManager],!MODULE[InterstellarFuelSwitch],!MODULE[FSfuelSwitch],!MODULE[ModuleB9PartSwitch],!MODULE[ModuleEnginesFX],!MODULE[ModuleEngines]]:NEEDS[InterstellarFuelSwitch&!ModularFuelTanks&!RealFuels&!ConfigurableContainers]:BEFORE[IFSTanks]
{
	%IFSTankVolume  = #$RESOURCE[LiquidFuel]/maxAmount$
	@IFSTankVolume *= 5

	@mass *= 0.51

	!RESOURCE[LiquidFuel] {}
	%IFSTankType = CT
	
	%IFScryoPower = #$IFSTankVolume$
	@IFScryoPower /= 800		// IFScryoPower: power requirement cryo storage
}
