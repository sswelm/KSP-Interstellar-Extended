PART
{
	name = KspiEmDrive
	module = Part
	author = Spacemouse
	mesh = EmDrive100kw.mu
	
	scale = 1
	rescaleFactor = 4
	node_stack_top = 0.0, 0.58, 0.0, 0.0, 1.0, 0.0, 1
	node_stack_bottom = 0.0, -0.54, 0.0, 0.0, -1.0, 0.0, 1
	TechRequired = experimentalElectricalSystems
	entryCost = 80000
	cost = 80000
	category = Engine
	subcategory = 0
	title = EM Drive
	manufacturer = SpaceMouse Industries
	description = They LAUGHED at the concept of a reaction-less drive, up until our orbit continued increasing with not a drop of rocket-fuel on board. According to ISP Electronics sales reps, the rumours of this engine being powered by "dark magic" are largely exaggerated, although unlike a Electric Xenon thruster the physics behind thrust with no reaction mass are poorly understood.
	attachRules = 1,0,1,1,0
	mass = 4
	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.2
	angularDrag = 2
	crashTolerance = 7
	maxTemp = 2000 // = 3600
	bulkheadProfiles = size0
	tags = drive efficient engine ion probe thruster vacuum emdrive mouse
	
	EFFECTS
	{		
		IonPlume
		{
			AUDIO
			{
				channel = Ship
				clip = sound_IonEngine
				volume = 0.0 0.0
				volume = 0.05 0.20
				volume = 1.0 0.25
				pitch = 0.0 0.2
				pitch = 1.0 0.8
				loop = true
			}
		}
	}
	
	MODULE
	{
		name = ModuleEnginesFX
		engineID = Ion
		thrustVectorTransformName = thrustTransform
		exhaustDamage = False
		ignitionThreshold = 0.01
		minThrust = 0
		maxThrust = 80.5
		heatProduction = 0
		powerEffectName = IonPlume
		PROPELLANT
		{
		    name = LqdHydrogen
		    ratio = 1
		}
		atmosphereCurve
 		{
   		    key = 0 11213
		}
	}

	MODULE
	{
		name = ElectricEngineControllerFX
		originalName = EM Drive
		upgradedName = EM Drive
		upgradeCost = 2000
		upgradeTechReq = experimentalElectricalSystems
		maxPower = 500000
		baseISP = 11213
		exitArea = 0.192
		type = 8
		upgradedtype = 8
		powerThrustMultiplier = 1
		ispGears = 1
		partMass = 4
	}
	
	MODULE
	{
		name = ModuleJettison
		jettisonName = fairingL
		bottomNodeName = bottom
		isFairing = False
		jettisonedObjectMass = 0.01
		jettisonForce = 1
		jettisonDirection = 0 -1 0
	}

	MODULE
	{
		name = ModuleJettison
		jettisonName = fairingR
		bottomNodeName = bottom
		isFairing = False
		jettisonedObjectMass = 0.01
		jettisonForce = 1
		jettisonDirection = 0 1 0
	}

	MODULE
	{
		name = TweakScale
		type = stack_interstellar
		defaultScale = 2.5
		scaleFactors = 0.625, 1.25, 1.875, 2.5, 3.75,  5, 7.5, 10
		scaleNames = 0.625m, 1.25m, 1.875m, 2.5m, 3.75m, 5m, 7.5m, 10m
	}
	
	MODULE
	{
		name = ModuleTestSubject
		useStaging = True
		useEvent = True
		situationMask = 112
		CONSTRAINT
		{
			type = REPEATABILITY
			value = ALWAYS
			prestige = Trivial
		}
		CONSTRAINT
		{
			type = REPEATABILITY
			value = BODYANDSITUATION
			prestige = Significant
		}
		CONSTRAINT
		{
			type = REPEATABILITY
			value = ONCEPERPART
			prestige = Exceptional
		}
		CONSTRAINT
		{
			type = ALTITUDEENV
			test = GT
			value = 4000
			prestige = Trivial
		}
		CONSTRAINT
		{
			type = ALTITUDEENV
			test = LT
			value = 8000
			prestige = Trivial
		}
		CONSTRAINT
		{
			type = ALTITUDEENV
			test = GT
			value = 2000
			prestige = Significant
		}
		CONSTRAINT
		{
			type = ALTITUDEENV
			test = LT
			value = 4000
			prestige = Significant
		}
		CONSTRAINT
		{
			type = ALTITUDEENV
			test = GT
			value = 1000
			prestige = Exceptional
		}
		CONSTRAINT
		{
			type = ALTITUDEENV
			test = LT
			value = 2000
			prestige = Exceptional
		}
		CONSTRAINT
		{
			type = ALTITUDE
			test = LT
			value = 300000
			situationMask = 16
			body = _NotSun
		}
		CONSTRAINT
		{
			type = ALTITUDE
			test = LT
			value = 600000
			situationMask = 32
			body = _NotSun
		}
	}
}
